<div class="container mt-5">

    <section>
        <div class="row d-flex justify-content-center text-center editColor">
            <div class="col-2 col-md-3 col-lg-3 col-xl-2">

            </div>

            <div class="col-4 col-md-4 col-lg-4 col-xl-4">
                <div>
                    <form action="/admin/add-categories" method="post" id="category_form">
                        <input type="text" class="form-control" id="cat_name" name="name" placeholder="Category"><br>
                        <input type="text" class="form-control" id="description" name="description"
                            placeholder="Description"><br>
                        <button type="submit" class="btn btn-success"><i class="fa-solid fa-cloud-arrow-up"></i>Add
                            Category</button>
                    </form>

                </div>
                <br>

            </div>
            <div class="col-4 col-md-4 col-lg-4 col-xl-4">
                <div>
                    <form action="/admin/add-sub-categories" method="post" id="sub_category_form">

                        <select class="form-select" aria-label="Default select example" name="maincategory">
                            <option></option>
                            {{#each category}}
                            <option value="{{this._id}}">{{this.name}}</option>
                            {{/each}}
                        </select><br>
                        <input type="text" class="form-control" id="sub_cat_name" name="subcategoryname"
                            placeholder="Sub category"><br>
                        <button type="submit" class="btn btn-success"><i class="fa-solid fa-cloud-arrow-up"></i>Add Sub
                        </button>
                    </form>

                </div>
            </div>
        </div>
        <br>
        <div class="container">


            <div class="row d-flex justify-content-center text-center bdrShdw ">
                <div class="col-2 col-md-3 col-lg-3 col-xl-2">

                </div>

                <div class="col-10 col-md-9 col-lg-9 col-xl-10 datatablescroll">
                    <table class="table mt-3" id="categoryJS">
                        <thead class="bg-success ">
                            <tr>
                                <th scope="col">Category</th>
                                <th scope="col">Description</th>
                                <th>Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each category}}
                            <tr class="text-success">
                                <td>{{this.name}}</td>
                                <td>{{this.description}}</td>
                                <td>
                                    {{!-- <a data-bs-toggle="modal" data-bs-target="#viewSubCategoryModal"
                                        class="btn btn-outline-primary">View sub
                                    </a> --}}
                                    <a href="/admin/edit_category/{{this._id}}" class="btn btn-outline-success">Edit <i
                                            class="fa-solid fa-file-pen"></i></a>
                                    <a class="btn btn-outline-danger"
                                        onclick="delCategory('{{this._id}}',this)">Delete<i
                                            class="fa-solid fa-trash"></i></a>

                                </td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

</div>
</section>


<script>


    new simpleDatatables.DataTable("#categoryJS")

    $(document).ready(function () {
        $("#sub_category_form").validate({
            rules: {
                maincategory: {
                    required: true
                },
                subcategoryname: {
                    required: true
                }
            }

        })

    })

    $(document).ready(function () {
        $("#category_form").validate({
            rules: {
                name: {
                    required: true
                },
                description: {
                    required: true
                }
            }

        })

    })
   

</script>